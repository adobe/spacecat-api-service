process-fulfillment-event:
  post:
    tags:
      - hooks
    summary: Process a fulfillment_completed event
    description: |
      This endpoint can be used to process a fulfillment_completed event,
      in the format produced by the Fulfillment Gateway and delivered by
      the Hoolihan pipeline. In particular, it is intended to be used
      to handle contract fulfillment events which involve an Edge Delivery
      Services fulfillable item "code".
    operationId: processFulfillmentEvent
    requestBody:
      required: true
      content:
        application/json:
          schema:
            $ref: './schemas.yaml#/FulfillmentCompletedEvent'
    responses:
      '202':
        description: Accepted for processing
        content:
          application/json:
            schema:
              $ref: './schemas.yaml#/FulfillmentProcessing'
      '400':
        $ref: './responses.yaml#/400-audit-for-site'
      '401':
        $ref: './responses.yaml#/401'
      '500':
        $ref: './responses.yaml#/500'
    security:
      - api_key: [ ]
