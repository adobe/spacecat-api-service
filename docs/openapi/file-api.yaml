get-files:
  get:
    tags:
      - files
    summary: Get a file by its storage key
    description: |
      Retrieves a file from storage using its key and returns a redirect to a pre-signed URL.
      This is a generic file retrieval endpoint that can be used for any type of file stored in the system
      (e.g., scrape results, import archives, reports, etc.).
      
      The pre-signed URL:
      - Is temporary and expires after a short period
      - Provides secure, direct access to the file
      - Can be used to download or view the file content
    operationId: getFileByKey
    parameters:
      - name: key
        in: query
        required: true
        description: The S3 object key (file path) of the file to retrieve
        schema:
          type: string
    responses:
      '302':
        description: Redirect to pre-signed URL for file access
        headers:
          Location:
            schema:
              type: string
            description: Pre-signed URL for accessing the file
      '401':
        $ref: './responses.yaml#/401'
      '404':
        $ref: './responses.yaml#/404'
      '500':
        $ref: './responses.yaml#/500'
    security:
      - scoped_api_key: [ ] 